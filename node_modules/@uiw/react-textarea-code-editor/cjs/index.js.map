{
  "version": 3,
  "names": [
    "React",
    "forwardRef",
    "props",
    "ref",
    "prefixCls",
    "_",
    "value",
    "padding",
    "minHeight",
    "placeholder",
    "language",
    "dataColorMode",
    "className",
    "style",
    "rehypePlugins",
    "onChange",
    "other",
    "useState",
    "setValue",
    "useEffect",
    "textRef",
    "useRef",
    "useImperativeHandle",
    "current",
    "contentStyle",
    "paddingTop",
    "paddingRight",
    "paddingBottom",
    "paddingLeft",
    "htmlStr",
    "useMemo",
    "processHtml",
    "htmlEncode",
    "String",
    "preView",
    "styles",
    "editor",
    "__html",
    "textareaProps",
    "autoComplete",
    "autoCorrect",
    "spellCheck",
    "autoCapitalize",
    "onKeyDown",
    "evn",
    "shortcuts",
    "textarea",
    "WebkitTextFillColor",
    "target",
    "container"
  ],
  "sources": [
    "../src/index.tsx"
  ],
  "sourcesContent": [
    "import React, { useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { PluggableList } from 'unified';\nimport { processHtml, htmlEncode } from './utils';\nimport shortcuts from './shortcuts';\nimport * as styles from './styles';\nimport './style/index.less';\n\nexport * from './SelectionText';\n\nexport interface TextareaCodeEditorProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  prefixCls?: string;\n  /**\n   * Support dark-mode/night-mode\n   */\n  ['data-color-mode']?: 'dark' | 'light';\n  /**\n   * Set what programming language the code belongs to.\n   */\n  language?: string;\n  /**\n   * Optional padding for code. Default: `10`.\n   */\n  padding?: number;\n  /**\n   * rehypePlugins (Array.<Plugin>, default: `[[rehypePrism, { ignoreMissing: true }]]`)\n   * List of [rehype plugins](https://github.com/rehypejs/rehype/blob/main/doc/plugins.md#list-of-plugins) to use. See the next section for examples on how to pass options\n   */\n  rehypePlugins?: PluggableList;\n  /**\n   * The minimum height of the editor. Default: `16`.\n   */\n  minHeight?: number;\n  onKeyDown?: (event: React.KeyboardEvent<HTMLTextAreaElement>) => void | boolean;\n}\n\nexport default React.forwardRef<HTMLTextAreaElement, TextareaCodeEditorProps>((props, ref) => {\n  const {\n    prefixCls = 'w-tc-editor',\n    value: _,\n    padding = 10,\n    minHeight = 16,\n    placeholder,\n    language,\n    'data-color-mode': dataColorMode,\n    className,\n    style,\n    rehypePlugins,\n    onChange,\n    ...other\n  } = props;\n\n  const [value, setValue] = useState(props.value || '');\n  useEffect(() => setValue(props.value || ''), [props.value]);\n  const textRef = useRef<HTMLTextAreaElement>(null);\n  useImperativeHandle<HTMLTextAreaElement, HTMLTextAreaElement>(ref, () => textRef.current!);\n\n  const contentStyle = {\n    paddingTop: padding,\n    paddingRight: padding,\n    paddingBottom: padding,\n    paddingLeft: padding,\n  };\n\n  const htmlStr = useMemo(\n    () =>\n      processHtml(\n        `<pre aria-hidden=true><code ${language && value ? `class=\"language-${language}\"` : ''} >${htmlEncode(\n          String(value || ''),\n        )}</code><br /></pre>`,\n        rehypePlugins,\n      ),\n    [value, language, rehypePlugins],\n  );\n  const preView = useMemo(\n    () => (\n      <div\n        style={{ ...styles.editor, ...contentStyle, minHeight }}\n        className={`${prefixCls}-preview ${language ? `language-${language}` : ''}`}\n        dangerouslySetInnerHTML={{\n          __html: htmlStr,\n        }}\n      />\n    ),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [prefixCls, language, htmlStr],\n  );\n\n  const textareaProps: React.TextareaHTMLAttributes<HTMLTextAreaElement> = {\n    autoComplete: 'off',\n    autoCorrect: 'off',\n    spellCheck: 'false',\n    autoCapitalize: 'off',\n    ...other,\n    placeholder,\n    onKeyDown: (evn) => {\n      if (!other.onKeyDown || other.onKeyDown(evn) !== false) {\n        shortcuts(evn);\n      }\n    },\n    style: {\n      ...styles.editor,\n      ...styles.textarea,\n      ...contentStyle,\n      minHeight,\n      ...(placeholder && !value ? { WebkitTextFillColor: 'inherit' } : {}),\n    },\n    onChange: (evn) => {\n      setValue(evn.target.value);\n      onChange && onChange(evn);\n    },\n    className: `${prefixCls}-text`,\n    value: value,\n  };\n\n  return (\n    <div\n      style={{ ...styles.container, ...style }}\n      className={`${prefixCls} ${className || ''}`}\n      data-color-mode={dataColorMode}\n    >\n      <textarea {...textareaProps} ref={textRef} />\n      {preView}\n    </div>\n  );\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AAAmC;AAGnC;AAAA;EAAA;EAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;EAAA;AAAA;AAAgC;AAAA,4BA4BjBA,cAAK,CAACC,UAAU,CAA+C,UAACC,KAAK,EAAEC,GAAG,EAAK;EAC5F,uBAaID,KAAK,CAZPE,SAAS;IAATA,SAAS,iCAAG,aAAa;IAClBC,CAAC,GAWNH,KAAK,CAXPI,KAAK;IAAA,iBAWHJ,KAAK,CAVPK,OAAO;IAAPA,OAAO,+BAAG,EAAE;IAAA,mBAUVL,KAAK,CATPM,SAAS;IAATA,SAAS,iCAAG,EAAE;IACdC,WAAW,GAQTP,KAAK,CARPO,WAAW;IACXC,QAAQ,GAONR,KAAK,CAPPQ,QAAQ;IACWC,aAAa,GAM9BT,KAAK,CANP,iBAAiB;IACjBU,SAAS,GAKPV,KAAK,CALPU,SAAS;IACTC,KAAK,GAIHX,KAAK,CAJPW,KAAK;IACLC,aAAa,GAGXZ,KAAK,CAHPY,aAAa;IACbC,SAAQ,GAENb,KAAK,CAFPa,QAAQ;IACLC,KAAK,0CACNd,KAAK;EAET,gBAA0B,IAAAe,eAAQ,EAACf,KAAK,CAACI,KAAK,IAAI,EAAE,CAAC;IAAA;IAA9CA,KAAK;IAAEY,QAAQ;EACtB,IAAAC,gBAAS,EAAC;IAAA,OAAMD,QAAQ,CAAChB,KAAK,CAACI,KAAK,IAAI,EAAE,CAAC;EAAA,GAAE,CAACJ,KAAK,CAACI,KAAK,CAAC,CAAC;EAC3D,IAAMc,OAAO,GAAG,IAAAC,aAAM,EAAsB,IAAI,CAAC;EACjD,IAAAC,0BAAmB,EAA2CnB,GAAG,EAAE;IAAA,OAAMiB,OAAO,CAACG,OAAO;EAAA,CAAC,CAAC;EAE1F,IAAMC,YAAY,GAAG;IACnBC,UAAU,EAAElB,OAAO;IACnBmB,YAAY,EAAEnB,OAAO;IACrBoB,aAAa,EAAEpB,OAAO;IACtBqB,WAAW,EAAErB;EACf,CAAC;EAED,IAAMsB,OAAO,GAAG,IAAAC,cAAO,EACrB;IAAA,OACE,IAAAC,kBAAW,wCACsBrB,QAAQ,IAAIJ,KAAK,8BAAsBI,QAAQ,UAAM,EAAE,eAAK,IAAAsB,iBAAU,EACnGC,MAAM,CAAC3B,KAAK,IAAI,EAAE,CAAC,CACpB,0BACDQ,aAAa,CACd;EAAA,GACH,CAACR,KAAK,EAAEI,QAAQ,EAAEI,aAAa,CAAC,CACjC;EACD,IAAMoB,OAAO,GAAG,IAAAJ,cAAO,EACrB;IAAA,oBACE;MACE,KAAK,0FAAOK,MAAM,CAACC,MAAM,GAAKZ,YAAY;QAAEhB,SAAS,EAATA;MAAS,EAAG;MACxD,SAAS,YAAKJ,SAAS,sBAAYM,QAAQ,sBAAeA,QAAQ,IAAK,EAAE,CAAG;MAC5E,uBAAuB,EAAE;QACvB2B,MAAM,EAAER;MACV;IAAE,EACF;EAAA,CACH;EACD;EACA,CAACzB,SAAS,EAAEM,QAAQ,EAAEmB,OAAO,CAAC,CAC/B;EAED,IAAMS,aAAgE;IACpEC,YAAY,EAAE,KAAK;IACnBC,WAAW,EAAE,KAAK;IAClBC,UAAU,EAAE,OAAO;IACnBC,cAAc,EAAE;EAAK,GAClB1B,KAAK;IACRP,WAAW,EAAXA,WAAW;IACXkC,SAAS,EAAE,mBAACC,GAAG,EAAK;MAClB,IAAI,CAAC5B,KAAK,CAAC2B,SAAS,IAAI3B,KAAK,CAAC2B,SAAS,CAACC,GAAG,CAAC,KAAK,KAAK,EAAE;QACtD,IAAAC,kBAAS,EAACD,GAAG,CAAC;MAChB;IACF,CAAC;IACD/B,KAAK,sHACAsB,MAAM,CAACC,MAAM,GACbD,MAAM,CAACW,QAAQ,GACftB,YAAY;MACfhB,SAAS,EAATA;IAAS,GACLC,WAAW,IAAI,CAACH,KAAK,GAAG;MAAEyC,mBAAmB,EAAE;IAAU,CAAC,GAAG,CAAC,CAAC,CACpE;IACDhC,QAAQ,EAAE,kBAAC6B,GAAG,EAAK;MACjB1B,QAAQ,CAAC0B,GAAG,CAACI,MAAM,CAAC1C,KAAK,CAAC;MAC1BS,SAAQ,IAAIA,SAAQ,CAAC6B,GAAG,CAAC;IAC3B,CAAC;IACDhC,SAAS,YAAKR,SAAS,UAAO;IAC9BE,KAAK,EAAEA;EAAK,EACb;EAED,oBACE;IACE,KAAK,8DAAO6B,MAAM,CAACc,SAAS,GAAKpC,KAAK,CAAG;IACzC,SAAS,YAAKT,SAAS,cAAIQ,SAAS,IAAI,EAAE,CAAG;IAC7C,mBAAiBD,aAAc;IAAA,wBAE/B,6FAAc2B,aAAa;MAAE,GAAG,EAAElB;IAAQ,GAAG,EAC5Cc,OAAO;EAAA,EACJ;AAEV,CAAC,CAAC;AAAA"
}